<div>
  <<ng-container *ngIf="parent">
    <h3>{{ parent.name }}</h3>
    <div>{{ parent.address }}</div>
    <div>{{ parent.contact }}</div>
    <div *ngIf="userRole === 'Admin' || userRole === 'Principle'">
      <button (click)="editParent(parent)" class="action-button"><span class="material-icons">edit</span></button>
    </div>
  </ng-container>
</div>

<div *ngIf="!parent && (userRole === 'Admin' || userRole === 'Principle')">
  <div *ngIf="error">{{ error }}</div>
  <form (ngSubmit)="createParent(createParentFrom)" #createParentFrom="ngForm">
    <label>Name: </label>
    <input ngModel name="parentName" required>
    <br>
    <label>Address: </label>
    <input ngModel name="parentAddress" required>
    <br>
    <label>Contact: </label>
    <input ngModel name="parentContact" required>
    <br>
    <label>Username: </label>
    <input ngModel name="parentUsername" required>
    <br>
    <label>Password: </label>
    <input ngModel name="parentPassword" required>
    <br>
    <button type="submit" [disabled]="!createParentFrom.valid">Create</button>
  </form>

  <select *ngIf="getAllParents() | async as allParents" required ngModel name="parent" id="selectParent">
    <option *ngFor="let parent of allParents" [value]="parent" (click)="selectParent(parent)">{{parent.name}}</option>
  </select>

  <div *ngIf="editParentMode" id="edit-parent">
    <form (ngSubmit)="editParentForm(editParentFrom)" #editParentFrom="ngForm">
      <label>Name: </label>
      <input name="parentName" required [ngModel]="currentEditParent.name">
      <br>
      <label>Address: </label>
      <input ngModel name="parentAddress" required  [ngModel]="currentEditParent.address">
      <br>
      <label>Contact: </label>
      <input ngModel name="parentContact" required  [ngModel]="currentEditParent.contact">

      <button class="action-button" type="submit" [disabled]="!editParentFrom.valid"><span class="material-icons">check</span></button>
      <button class="action-button" (click)="editParentMode = false"><span class="material-icons">close</span></button>
    </form>
    <div *ngIf="error">{{ error }}</div>
  </div>
</div>
