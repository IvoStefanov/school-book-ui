<h3>Evaluation</h3>
<!-- choose grade \ list grades where evaluation teaches?? -->
<!--list subjects of the teacher?? -->
<div id="evaluation-list">
  <div id="header">
    <div>Id</div>
    <div>Student</div>
    <div>Subject</div>
    <div>Mark</div>
    <div>Actions</div>
</div>
    <div id="evaluation-wrapper" *ngFor="let evaluation of evaluations">
      <div>
        <div>{{ evaluation.id }}</div>
        <div>{{ evaluation.studentId }}</div>
        <div>{{ subjects[evaluation.subject] }}</div>
        <div>{{ evaluation.mark }}</div>
        <div>
          <button (click)="edit(evaluation)" class="action-button"><span class="material-icons">edit</span></button>
          <button (click)="delete(evaluation.id)" class="action-button"><span class="material-icons">delete</span></button>
        </div>
      </div>
    </div>

    <div *ngIf="editEvaluationMode" id="edit-evaluation">
      <form (ngSubmit)="editEvaluationForm(editEvaluationFrom, currentEditEvaluation.id)" #editEvaluationFrom="ngForm">
        <label>Student: </label>
        <input name="evaluationStudent" required [ngModel]="currentEditEvaluation.student">
        <br>
        <label>Mark: </label>
        <input ngModel name="evaluationMark" required  [ngModel]="currentEditEvaluation.mark">
        <br>
        <label for="subjects">Subject: </label>
        <select required [ngModel]="currentEvaluationSubject" name="evaluationSubject" id="subjects">
          <option *ngFor="let subject of subjects" [value]="subject" >{{subject}}</option>
        </select>

        <button class="action-button" type="submit" [disabled]="!editEvaluationFrom.valid"><span class="material-icons">check</span></button>
        <button class="action-button" (click)="editEvaluationMode = false"><span class="material-icons">close</span></button>
      </form>
      <div *ngIf="error">{{ error }}</div>
  </div>
</div>

<button class="action-button" (click)="createEvaluationMode = true"><span class="material-icons">add</span> add evaluation</button>
<div *ngIf="createEvaluationMode" id="create-evaluation">
    <form (ngSubmit)="createEvaluationForm(createEvaluationFrom)" #createEvaluationFrom="ngForm">
        <label>Student: </label>
        <input ngModel name="evaluationName" required>
        <br>
        <label>Mark: </label>
        <input ngModel name="evaluationAddress" required>
        <label for="subjects">Subject: </label>
        <select ngModel name="evaluationSubject" required  id="subjects">
          <option *ngFor="let subject of subjects" [value]="subject">{{subject}}</option>
        </select>
        <br>
        <button type="submit" [disabled]="!createEvaluationFrom.valid">Create</button>
        <button (click)="cancelEvaluationCreation()">Cancel</button>
      </form>
      <div *ngIf="error">{{ error }}</div>
</div>

