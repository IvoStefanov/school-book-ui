<h3>Students</h3>
<div id="student-list">
  <div id="header">
    <div>Id</div>
    <div>Name</div>
    <div>Address</div>
    <div>Contact</div>
    <div>Grade</div>
    <div *ngIf="userRole === 'Admin' || userRole === 'Principle'">Actions</div>
</div>
    <div id="student-wrapper" *ngFor="let student of students">
      <div>
        <div>{{ student.id }}</div>
        <a [routerLink]="'/student-page/' + student.id">{{ student.name }}</a>
        <div>{{ student.address }}</div>
        <div>{{ student.contact }}</div>
        <div>{{ grades[student.grade] }}</div>
        <div *ngIf="userRole === 'Admin' || userRole === 'Principle'">
          <button (click)="edit(student)" class="action-button"><span class="material-icons">edit</span></button>
          <button (click)="delete(student.id)" class="action-button"><span class="material-icons">delete</span></button>
        </div>
      </div>
    </div>

    <div *ngIf="editStudentMode" id="edit-student">
      <form (ngSubmit)="editStudentForm(editStudentFrom, currentEditStudent.id)" #editStudentFrom="ngForm">
        <label>Name: </label>
        <input name="studentName" required [ngModel]="currentEditStudent.name">
        <br>
        <label>Address: </label>
        <input ngModel name="studentAddress" required  [ngModel]="currentEditStudent.address">
        <br>
        <label>Contact: </label>
        <input ngModel name="studentContact" required  [ngModel]="currentEditStudent.contact">
        <br>
        <label for="grades">Grade: </label>
        <select required [ngModel]="currentStudentGrade" name="studentGrade" id="grades">
          <option *ngFor="let grade of grades" [value]="grade" >{{grade}}</option>
        </select>

        <button class="action-button" type="submit" [disabled]="!editStudentFrom.valid"><span class="material-icons">check</span></button>
        <button class="action-button" (click)="editStudentMode = false"><span class="material-icons">close</span></button>
      </form>
      <div *ngIf="error">{{ error }}</div>
  </div>
</div>

<button *ngIf="userRole === 'Admin' || userRole === 'Principle'" class="action-button" (click)="createStudentMode = true"><span class="material-icons">add</span> add student</button>
<div *ngIf="createStudentMode" id="create-student">
    <form (ngSubmit)="createStudentForm(createStudentFrom)" #createStudentFrom="ngForm">
        <label>Name: </label>
        <input ngModel name="studentName" required>
        <br>
        <label>Address: </label>
        <input ngModel name="studentAddress" required>
        <br>
        <label>Contact: </label>
        <input ngModel name="studentContact" required>
        <label for="grades">Grade: </label>
        <select ngModel name="studentGrade" required  id="grades">
          <option *ngFor="let grade of grades" [value]="grade">{{grade}}</option>
        </select>
        <label>Username: </label>
      <input ngModel name="studentUsername" required>
      <br>
      <label>Password: </label>
      <input ngModel name="studentPassword" required>
      <br>
        <button type="submit" [disabled]="!createStudentFrom.valid">Create</button>
        <button (click)="cancelStudentCreation()">Cancel</button>
      </form>
      <div *ngIf="error">{{ error }}</div>
</div>

